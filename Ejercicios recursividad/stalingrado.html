<!DOCTYPE html>
<html>

<body>

    <h1>STALINGRADO</h1>
    <p id="matriz"></p>
    <h2 id="ganador"></h2>

    <script>
        let battlefield = [
            ["A", "A", "*", "*", "R", "*", "*", "*", "*"],
            ["A", "A", "*", "*", "R", "*", "*", "*", "*"],
            ["*", "*", "*", "*", "R", "*", "*", "*", "*"],
            ["*", "*", "*", "*", "R", "*", "*", "*", "*"],
            ["*", "*", "*", "*", "R", "*", "*", "*", "*"],
            ["*", "*", "*", "*", "R", "*", "*", "*", "*"],
            ["*", "*", "*", "*", "R", "*", "*", "*", "*"],
            ["*", "*", "*", "*", "R", "*", "*", "A", "A"],
            ["*", "*", "*", "*", "R", "*", "*", "A", "A"]
        ];

        let battlefield2 = [
            ["A", "A", "*", "*", "R", "*", "*", "*", "*"],
            ["A", "A", "*", "*", "R", "*", "*", "*", "*"],
            ["*", "*", "*", "*", "R", "*", "*", "*", "*"],
            ["*", "*", "*", "*", "R", "*", "*", "*", "*"],
            ["R", "R", "R", "R", "R", "*", "*", "*", "*"],
            ["*", "*", "*", "*", "*", "*", "*", "*", "*"],
            ["*", "*", "*", "*", "*", "*", "*", "*", "*"],
            ["*", "*", "*", "*", "*", "*", "*", "A", "A"],
            ["*", "*", "*", "*", "*", "*", "*", "A", "A"]
        ];

        let battlefield3 = [
            ["A", "A", "*", "*", "R", "*", "*", "*", "*"],
            ["A", "A", "*", "*", "R", "*", "*", "*", "*"],
            ["*", "*", "*", "*", "R", "*", "*", "*", "*"],
            ["*", "*", "*", "*", "R", "*", "*", "*", "*"],
            ["R", "R", "*", "R", "R", "*", "*", "*", "*"],
            ["*", "*", "*", "*", "*", "*", "*", "*", "*"],
            ["*", "*", "*", "*", "*", "*", "*", "*", "*"],
            ["*", "*", "*", "*", "*", "*", "*", "A", "A"],
            ["*", "*", "*", "*", "*", "*", "*", "A", "A"]
        ];

        const mostrarMatriz = (matriz) => {
            let stringMatriz = "";
            for (let i = 0; i < matriz.length; i++) {
                for (let j = 0; j < matriz[i].length; j++) {
                    stringMatriz += matriz[i][j] + "&nbsp";
                }
                stringMatriz += "<br>";
            }
            return stringMatriz
        }

        const quienGana = (matriz, fila, columna) => {
            // que llegue al final
            let resultado = false;
            let arrayR = [];
            if (fila >= matriz.length || columna >= matriz[fila].length) {
                return resultado;
            }
            // si encuentra una R
            if (matriz[fila][columna] === "R") {
                // quedarnos con su posicion
                arrayR.push([fila,columna])
                // si la siguiente posicion es un asterisco o una A y la anterior tambien
                if (matriz[fila][columna + 1] === "*" || matriz[fila][columna + 1] === "A" && matriz[fila][columna - 1] === "*" || matriz[fila][columna - 1] === "A") {
                    // mirar hacia abajo si no se sale
                    if (fila +1 < matriz.length) {
                        // si hacia abajo si hay una R, comprobar todas hasta el final
                        if (matriz[fila + 1][columna] == "R") {
                            quienGana(matriz, fila + 1, columna)
                            // recorrer el array de posiciones
                            for(let i =0 ; i < arrayR.length; i++){
                                console.log(arrayR[i]);
                            }
                        }
                    }
                }
            } else {
                quienGana(matriz, fila, columna + 1)
            }
            
        }



        let parrafo = document.getElementById("matriz");
        parrafo.innerHTML = mostrarMatriz(battlefield) + "<br>";
        parrafo.innerHTML += mostrarMatriz(battlefield2) + "<br>";
        parrafo.innerHTML += mostrarMatriz(battlefield3) + "<br>";
        quienGana(battlefield, 0, 0)


    </script>

</body>

</html>